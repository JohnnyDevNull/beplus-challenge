<div class="bp-box">
  <div class="bp-header text-center">
    Neuen Standort hinzuf체gen
  </div>
  <div class="bp-content">
    <div class="bp-label mb-3">
      <label for="addrSearchTypeahead">
        Adresse suchen
      </label>
    </div>
    <ng-container *ngIf="selected === false; else preview">
      <ng-template #addrResTpl let-addrItem="result">
        <app-address-item
          [item]="addrItem"
        ></app-address-item>
      </ng-template>
      <input
        id="addrSearchTypeahead"
        type="text"
        class="form-control"
        placeholder="Suchen"
        [(ngModel)]="model"
        [ngbTypeahead]="search"
        [resultTemplate]="addrResTpl"
        [inputFormatter]="formatter"
        (selectItem)="onItemSelect()" />
    </ng-container>
    <ng-template #preview>
      <div class="d-flex mb-2">
        <div>
          <app-address-item
            [item]="model"
            [showLabel]="false"
          ></app-address-item>
        </div>
        <div class="d-flex flex-column justify-content-center align-items-center">
          <button
            class="bp-btn-blank"
            (click)="onEditModel()"
          >Ort 채ndern</button>
        </div>
      </div>
      <input
        type="text"
        class="form-control"
        placeholder="Name f체r gew채hlten Standort vergeben"
        [(ngModel)]="addrLabel">
    </ng-template>
  </div>
  <div class="bp-footer d-flex justify-content-center">
    <button class="btn bp-light-btn rounded-pill px-4 me-2" (click)="onCancel()">
      Abbrechen <i class="icon i-cross ms-2"></i>
    </button>
    <button class="btn bp-btn rounded-pill px-4 ms-2" (click)="onSave()">
      Speichern <i class="icon i-check-w ms-2"></i>
    </button>
  </div>
</div>
